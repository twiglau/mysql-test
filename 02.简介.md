# 简介

## 创建

```sh
mysql -u root -p
*******

show databases;
use db_large;
```

## 查看字符集

```sh
show variables like 'character%';
show variables like '%char%';
```

## 主要配置文件

1. 二进制日志 log-bin - 主从复制
2. 错误日志 log-error
   - 默认是关闭的，记录严重的警告和错误信息，每次启动和关闭的详细信息等；
3. 查询日志 log
   - 默认是关闭的，记录所有的 SQL 语句，如果开启会减低 mysql 的整体性能，因为记录日志也是需要消耗资源的；
4. 数据文件
   - linux: 默认路径 /var/lib/mysql
   - frm 文件：存放表结构
   - myd 文件：存放表数据
   - myi 文件：存放表索引

## 逻辑结构

1. 连接层

- 最上层是一些客户端和连接服务，包含本地 sock 通信和大多数基于客户端/服务端工具实现的类似于 tcp/ip 的通信，主要完成一些类似于连续处理，授权认证，及相关的安全方案，在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程，同样在该层上可以实现基于 SSL 的安全连接，服务器也会为安全接入的每个客户端验证它所具有的操作权限；

2. 服务层

- 第二层架构主要完成大多数的核心服务功能，如 SQL 接口，并完成缓存的查询，SQL 的分析和优化及部分内置函数的执行。所有跨存储引擎的功能也在这一层实现，如过程，函数等。服务器会解析查询并创建相应的内部解析树，并对其完成响应的优化，如确定查询表的顺序，是否利用索引等。最后生成响应的执行操作，如果是 select 语句，服务器还是查询内部的缓存，如果缓存空间足够大，这样在结果大量读操作的环境中，能够很好的提升系统的性能；

3. 存储引擎层

- 存储引擎真正的负责了 MySQL 中数据的存储和提取，服务器通过 API 与存储引擎进行通信。不同的存储引擎具有的功能不同，如 MyISAM，InnoDB，Memory 等。

## 存储引擎

- 查看引擎

```sh
show engines;
show variables like '%storage_engine%';
```
